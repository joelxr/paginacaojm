<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk">
	
	<ui:composition template="layoutBase.xhtml">
		<ui:define name="corpo">
			<t:saveState value="#{clienteBeanSemPaginacao.listaClientes}" />
			<t:saveState value="#{clienteBeanSemPaginacao.listaClientesFiltrados}" />
		
			<h1>Listagem de Clientes Sem Paginação</h1>
			
			<h:form>
				<p:dataTable id="listaClientes" widgetVar="listaClientes" value="#{clienteBeanSemPaginacao.listaClientes}"
					filteredValue="#{clienteBeanSemPaginacao.listaClientesFiltrados}" var="c" 
					rows="10" paginator="true" paginatorPosition="bottom" sortBy="#{c.nome}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					currentPageReportTemplate="({currentPage} de {totalPages})">
					
			        <p:column headerText="Nome" filterBy="#{c.nome}" filterMatchMode="contains" sortBy="#{c.nome}">
			            <h:outputText value="#{c.nome}" />
			        </p:column>
			        <p:column headerText="CPF" style="text-align: center" filterBy="#{c.cpf}" filterMatchMode="startsWith" sortBy="#{c.cpf}">
			            <h:outputText value="#{c.cpf}" />
			        </p:column>
			        <p:column headerText="Qtd. Filhos" style="text-align: center" filterBy="#{c.qtdFilhos}" filterMatchMode="exact" sortBy="#{c.qtdFilhos}">
			        	<f:facet name="filter">
                			<p:selectOneMenu onchange="PF('listaClientes').filter();">
                    			<f:selectItem itemLabel="Selecione" itemValue="#{null}" noSelectionOption="true" />
                    			<f:selectItem itemLabel="0" itemValue="0" />
                    			<f:selectItem itemLabel="1" itemValue="1" />
                    			<f:selectItem itemLabel="2" itemValue="2" />
                    			<f:selectItem itemLabel="3" itemValue="3" />
                    			<f:selectItem itemLabel="4" itemValue="4" />
                    			<f:selectItem itemLabel="5" itemValue="5" />
                    			<f:selectItem itemLabel="6" itemValue="6" />
               				</p:selectOneMenu>
            			</f:facet>
			            <h:outputText value="#{c.qtdFilhos}" />
			        </p:column>
			        <p:column headerText="Naturalidade" style="text-align: center" filterBy="#{c.naturalidade}" filterMatchMode="startsWith" sortBy="#{c.naturalidade}">
			            <h:outputText value="#{c.naturalidade}" />
			        </p:column>
			         <p:column headerText="Data Nasc." sortBy="#{c.dataNascimento}">
			            <h:outputText value="#{c.dataNascimento}">
			            	<f:convertDateTime pattern="dd/MM/yyyy"/>
			            </h:outputText>
			        </p:column>
			        <p:column headerText="Endereço" style="text-align: center">
			             <h:outputText value="#{c.endereco}" />,
			             <h:outputText value=" #{c.numero}" />
			             <h:outputText value=" #{c.bairro}" />
			             <h:outputText value=" CEP #{c.cep}" />
			             <h:outputText value=" #{c.cidade}" />
			             <h:outputText value="-#{c.uf}" />
			        </p:column>
			        <p:column headerText="Tel. Celular" filterBy="#{c.telefoneCelular}" filterMatchMode="startsWith" sortBy="#{c.telefoneCelular}">
			        	<h:outputText value="#{c.telefoneCelular}" />
			        </p:column>
			        <p:column headerText="E-mail" filterBy="#{c.email}" filterMatchMode="contains" sortBy="#{c.email}">
			        	<h:outputText value="#{c.email}" />
			        </p:column>
				</p:dataTable>
			</h:form>
		</ui:define>
	</ui:composition>
</html>